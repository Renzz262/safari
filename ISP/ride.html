<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafariConnect • Book Ride</title>
    <link rel="stylesheet" type="text/css" href="./style.css">
    <link rel="icon" href="https://media.istockphoto.com/id/2070968418/vector/lettering-va-brand-symbol-design.jpg?s=612x612&w=0&k=20&c=5-HWZ5Bf2DDVdcUT1fK51F6TxixVZhAYaBZLJOSug8c=">
</head>

<body>
    <header>
        <div class="logo">
            <span class="navText">SafariConnect</span>
        </div>
        <nav>
            <ul>
                <li class="navBar"><a href="commuter_dashboard.php" >Home</a></li>
                <li class="navBar"><a href="./ride.html">Book Ride</a></li>
                <li class="navBar"><a href="contact.php">Contact Us</a></li>
                <li class="navBar"><a href="pending_drivers.php">Join Our Network</a></li>
                <li class="navBar"><a href="commuter_profile.php"> Profile</a></li>
                <li class="navBar"><a href="logout.php">Logout</a></li>
            </ul>
        </nav>
    </header>

    <div id="bodyDiv" style="display: inline-block;">
        <iframe width="450" height="350"
            src="https://www.openstreetmap.org/export/embed.html?bbox=-0.4622239479795099%2C39.41359954473846%2C-0.2905625710263849%2C39.525575588307476&amp;layer=mapnik&amp;marker=29.469610091927976%2C-0.37639325950294733"
            style="border-radius: 9px;"></iframe><br /><small><a
                href="https://www.openstreetmap.org/?mlat=39.4696&amp;mlon=-0.3764#map=13/39.4696/-0.3764">View Larger
                Map</a></small>
        <br>

        <form id="registrationForm" action="register.php" method="POST" style="margin-top: 22px; margin: auto; text-align: left;">
            <h1>Where to today?</h1>
            <label>Enter full name:</label>
            <input type="text" name="name" placeholder="Enter full name"> <br>
            <label>Pickup Location:</label>
            <input type="text" id="pickup" name="pickup" required placeholder="Pickup...">
            <br>
            <label>Drop-off Location:</label>
            <input type="text" id="dropoff" name="dropoff" required placeholder="Drop-off...">
            <br>

            <!-- ✅ Hidden input to ensure 'bookRide' is always sent -->
            <input type="hidden" name="bookRide" value="1">

            <input id="submitBtn" type="submit" value="Book Ride">
        </form>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <h2>Payment Confirmation</h2>
            <p>Complete the payment to proceed with your ride booking.</p>
            <button type="button" onclick="processPayment()">Pay Now</button>
            <button type="button" onclick="closeModal()">Cancel</button>
        </div>
    </div>

    <script>
    document.getElementById("registrationForm").addEventListener("submit", function(event) {
        event.preventDefault(); // Prevent direct form submission
        document.getElementById("paymentModal").style.display = "flex"; // Show payment modal
    });

    function processPayment() {
        alert("Processing Payment..."); // Simulate payment process
        setTimeout(() => {
            alert("Payment Successful! Generating Receipt...");
            document.getElementById("paymentModal").style.display = "none"; // Close modal
            document.getElementById("registrationForm").submit(); // ✅ Submit to register.php
        }, 2000);
    }

    function closeModal() {
        document.getElementById("paymentModal").style.display = "none";
    }
    </script>

    <footer>
    

</body>
</html>
